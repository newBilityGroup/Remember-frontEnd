<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>登录</title>
  <link rel="stylesheet" href="../assets/css/login.css">
</head>

<body>
  <div id="clouds">
    <div class="cloud x1"></div>
    <!-- Time for multiple clouds to dance around -->
    <div class="cloud x2"></div>
    <div class="cloud x3"></div>
    <div class="cloud x4"></div>
    <div class="cloud x5"></div>
  </div>

  <div class="container">
    <div id="login">
      <form id="loginForm">
        <fieldset class="clearfix">
          <p><span class="fontawesome-user"></span><input type="text" placeholder="用户名"></p>
          <p><span class="fontawesome-lock"></span><input type="password" placeholder="密码"></p>
          <p><input type="submit" value="登录"></p>
        </fieldset>
      </form>
      <p>忘记密码？<span class="fontawesome-arrow-right"></span><a href="#" class="white">&nbsp;点击这里</a></p>
    </div>
  </div>
  <script src="../assets/js/vue.min.js"></script>
  <script src="../assets/js/axios.min.js"></script>
  <script src="../assets/js/mock-min.js"></script>
  <script src="../assets/js/jquery.min.js"></script>
  <script>
    var data = Mock.mock("/login", "post", {
      'list|1': [{
        'status': 200,
      }]
    })
    $("#loginForm").submit(function(){
      var userInfo = {
        userName: $("input[type='text']").val(),
        password: $("input[type='password']").val(),
      };
      if (userInfo.userName == '') {
        alert('用户名不能为空');
        return false;
      }
      if (userInfo.password == '') {
        alert('密码不能为空');
        return false;
      }
      axios.post('/login',JSON.stringify(this.userInfo))
        .then(res => {
          console.log(res);
          if (res.status == 200) {
            alert("登录成功");
            window.location.href="index.html";
          }else{
            alert("账号或密码错误");
          }
        })
    });
  </script>
</body>
</html>